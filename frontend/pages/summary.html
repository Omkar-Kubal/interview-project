<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Session Summary | Signal Capture</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        "primary": "#000000",
                        "off-white": "#f2f2f2",
                        "surface": "#ffffff",
                        "border-dark": "#000000",
                        "text-main": "#000000",
                        "text-muted": "#666666",
                    },
                    fontFamily: {
                        "mono": ["Space Grotesk", "monospace"],
                    },
                    borderRadius: {
                        "DEFAULT": "0px",
                        "none": "0px"
                    },
                },
            },
        }
    </script>
    <style>
        body {
            font-family: "Space Grotesk", monospace;
        }
    </style>
</head>

<body class="bg-off-white text-text-main h-screen flex flex-col overflow-hidden font-mono">
    <header
        class="flex-none flex items-center justify-between whitespace-nowrap border-b border-border-dark bg-surface px-6 py-3 h-14">
        <div class="flex items-center gap-4">
            <div class="size-6 text-white bg-black border border-black flex items-center justify-center select-none">
                <span class="text-xs">OK</span>
            </div>
            <h1 class="text-black text-sm font-bold tracking-widest uppercase">
                SIGNAL CAPTURE CONSOLE <span class="text-text-muted mx-2">//</span> TRANSMISSION COMPLETE
            </h1>
        </div>
    </header>

    <main class="flex-1 overflow-y-auto bg-[#ebebeb] p-4 md:p-10 flex flex-col items-center justify-center">
        <div
            class="w-full max-w-xl flex flex-col gap-8 bg-white border border-black p-10 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]">
            <div class="flex flex-col items-center text-center gap-6">
                <div class="size-20 bg-black text-white flex items-center justify-center">
                    <span class="material-symbols-outlined text-5xl">task_alt</span>
                </div>
                <div>
                    <h2 class="text-3xl font-black uppercase tracking-tighter">Capture_Finalized</h2>
                    <p class="text-xs text-gray-500 uppercase tracking-widest mt-2">All multimodal signals have been
                        buffered and stored in core infrastructure.</p>
                </div>
            </div>

            <div class="border-t border-black pt-8 space-y-4">
                <div class="flex justify-between items-center text-xs font-bold uppercase">
                    <span class="text-gray-400">SESSION_STATUS</span>
                    <span class="text-green-600">SUCCESSFUL_UPLINK</span>
                </div>
                <div class="flex justify-between items-center text-xs font-bold uppercase">
                    <span class="text-gray-400">INTEGRITY_CHECK</span>
                    <span class="text-black">VERIFIED</span>
                </div>
                <div id="summary-duration" class="flex justify-between items-center text-xs font-bold uppercase">
                    <span class="text-gray-400">DURATION</span>
                    <span class="text-black">--:--:--</span>
                </div>
            </div>

            <div class="flex flex-col gap-3 mt-4">
                <button onclick="window.location.href='/dashboard'"
                    class="w-full bg-black text-white h-14 border border-black text-xs font-bold tracking-[0.2em] uppercase hover:bg-white hover:text-black transition-all flex items-center justify-center">
                    RETURN_TO_DASHBOARD
                </button>
                <div class="text-[10px] text-center text-gray-400 uppercase tracking-widest">You can now safely
                    terminate this window.</div>
            </div>
        </div>
    </main>

    <footer
        class="flex-none bg-white border-t border-black h-10 px-6 flex items-center justify-center text-[10px] font-mono tracking-widest text-black uppercase opacity-60">
        AI INTERVIEW SYSTEM // MODULE_ID: SUMMARY_COMP_V1
    </footer>

    <script>
        const user = JSON.parse(sessionStorage.getItem('user'));
        const token = sessionStorage.getItem('token');

        if (!token || !user || user.role !== 'seeker') {
            window.location.href = '/login';
        }

        const summary = JSON.parse(sessionStorage.getItem('summary'));
        if (summary && summary.duration_sec) {
            const sec = parseInt(summary.duration_sec);
            const hrs = Math.floor(sec / 3600);
            const mins = Math.floor((sec % 3600) / 60);
            const secs = sec % 60;
            document.getElementById('summary-duration').querySelector('span:last-child').innerText =
                `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
    </script>
</body>

</html>